# -*- coding: utf-8 -*-
"""
Created on Fri Feb 11 15:14:52 2022

@author: ellio
"""
import sqlite3
import matplotlib.pyplot as plt
import numpy as np
import matplotlib.pyplot as plt
from mpl_toolkits import mplot3d

conn = sqlite3.connect('donn√©es_mesure.db')

c1=[]
t1=[]
u1=[]
v1=[]
p1=[]
#rho=1 mu=1.8*10**(-2) longueur=12 largeur=4 format=64x64

rho=1 
mu=1.8*10**(-2) 
longueur=12 
largeur=4 

t=[0.0, 0.022600893930789484, 0.04520178786157897, 0.06780268179236845, 0.09040357572315794, 0.11300446965394742, 0.1356053635847369, 0.1582062575155264, 0.18080715144631587, 0.20340804537710536, 0.22600893930789484, 0.24860983323868432, 0.2712107271694738, 0.29381162110026326, 0.3164125150310528, 0.3390134089618423, 0.36161430289263174, 0.3842151968234212, 0.4068160907542107, 0.4294169846850002, 0.4520178786157897, 0.47461877254657914, 0.49721966647736865, 0.5198205604081582, 0.5424214543389476, 0.5650223482697371, 0.5876232422005265, 0.6102241361313161, 0.6328250300621056, 0.655425923992895, 0.6780268179236846, 0.700627711854474, 0.7232286057852635, 0.745829499716053, 0.7684303936468424, 0.791031287577632, 0.8136321815084214, 0.8362330754392109, 0.8588339693700004, 0.8814348633007899, 0.9040357572315794, 0.9266366511623688, 0.9492375450931583, 0.9718384390239478, 0.9944393329547373, 1.0170402268855268, 1.0396411208163163]
u=[6.216495691172547e-06, 6.216495691172547e-06, 6.216495691172547e-06, 0.19102985686044385, 0.19515828361503634, 0.15955603326392295, 0.06842997555995159, -0.06262604424600789, -0.16247688020097506, -0.18575108622060982, -0.16245087955602813, -0.1181181714774134, -0.0800034598323577, -0.05376989937170527, -0.038526121303844946, -0.03396884747521384, -0.04797249554309201, -0.06355187830682353, -0.06911798372934697, -0.0712471941992411, -0.07262753087629446, -0.07153435241732882, -0.07089558213604338, -0.07155753021614407, -0.07192270163314224, -0.07157357760846099, -0.07122368926649922, -0.07103101579915606, -0.07057445176669686, -0.07000553399770093, -0.06962444224607425, -0.06938053781594876, -0.06916330687115166, -0.06901127340820806, -0.06893827484579927, -0.06888164090531185, -0.06882978535309552, -0.0688039903196332, -0.06879783739506183, -0.06879588849236934, -0.06880224280035467, -0.06882265397329773, -0.06885029729742043, -0.06887985954976653, -0.06891212527156874, -0.06894632215072659, -0.06897939923233834] 
v=[1.567382247069128e-08, 1.567382247069128e-08, 1.567382247069128e-08, 0.01730153891642843, 0.008835645167222102, -0.016879309225962383, -0.04055782211791776, -0.046563746002787315, -0.010887303754901531, 0.025963412366409613, 0.039682310279168874, 0.03543384628619989, 0.024346770708229933, 0.014273930340925568, 0.0067394217896660944, 0.0020377624458567042, 0.0009575603773684657, 0.002290644428152385, 0.003086515041869378, 0.004230041970261883, 0.005107321991167418, 0.005478228602435424, 0.005471175157971252, 0.0054256522221089966, 0.005642940066693253, 0.005794306509298948, 0.0058243064951917735, 0.005828228146134038, 0.005817016767900352, 0.005769529507721885, 0.005707797955161752, 0.005662540472145705, 0.005622312338394143, 0.005587732132446165, 0.005567168426101194, 0.005556535597970686, 0.00554743100276915, 0.00553948165668911, 0.005536176850962086, 0.005535506993672771, 0.005535633052070708, 0.005537470269592675, 0.005541325449673148, 0.005546231078621543, 0.00555164012239296, 0.005557632494722964, 0.005563850884151352] 
p=[8.3565598524227e-06, 8.3565598524227e-06, 8.3565598524227e-06, 0.14571322741983256, 0.10086599916955603, 0.11158495622981385, 0.0625355927460921, 0.004359384347737025, -0.0446815686450425, -0.06304839345814439, -0.05474341532376274, -0.04455589848446565, -0.04207308643201642, -0.03981934838374744, -0.042218748357445435, -0.04249902502339957, -0.027272106178580294, -0.02661903800210939, -0.03421009072037026, -0.03450311533050418, -0.032040986477714604, -0.027656757556128383, -0.026766774775760113, -0.026248238905775646, -0.02480968385176158, -0.023851053223245638, -0.023060080092745287, -0.02241717636317426, -0.021881911649523998, -0.021556743514646752, -0.021212557908209258, -0.020883994779502844, -0.0207269257326653, -0.020659838434959117, -0.020605747205001145, -0.020564415834089456, -0.02057823621208951, -0.020620183653314483, -0.020664610679423132, -0.02072182430289175, -0.020790454891582592, -0.0208611439520608, -0.020930645086567598, -0.021001697794625983, -0.021071014877153946, -0.021134767150642563, -0.021193757177306535]

cursor = conn.cursor()
cursor.execute("""
DROP TABLE valeurs;
""")
cursor.execute("""
CREATE TABLE IF NOT EXISTS valeurs(
     condition FlOAT,
     temps FLOAT,
     horizontal FLOAT,
     vertical FLOAT,
     pressure FLOAT)
""")




for i in range(0,len(t)-1):
    cursor.execute("""
                   INSERT INTO valeurs(condition ,temps ,horizontal ,vertical ,pressure) VALUES (?,?,?,?,?)""",(mu,t[i],u[i],v[i],p[i]))


 
c=cursor.execute("""SELECT condition,temps,horizontal,vertical,pressure from valeurs""")

for row in c:
    c1.append(row[0])
    t1.append(row[1])
    u1.append(row[2])
    v1.append(row[3])
    p1.append(row[4])
 
print(u1)    

fig = plt.figure()
ax = plt.axes(projection ='3d')

ax.plot3D(t1, u1, c1, 'green')
ax.set_title('u')
plt.show()



conn.commit()